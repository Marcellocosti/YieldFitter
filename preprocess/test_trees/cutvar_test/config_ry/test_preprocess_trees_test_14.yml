operations:
    preprocess_data: False
    make_yaml: False
    proj_data: False
    produce_corr_bkgs_templs: True
    get_raw_yields: False

outdir: '/home/mdicosta/YieldFitter/preprocess/test_trees'
suffix: 'test'
centrality: 'k010'
Dmeson: 'Dplus'
nworkers: 1
input_type: 'Tree'

ptbins: [
           5.0,
           6.0,
       ]

cut_variation:
    bkg_max: [0.015]
    sig: # the max value is not contained in the range
        min: [0.30]
        max: [1.0]
        step: [1.0]
    skip_cuts: [    # index of the specific cuts to skip for each pt bin
            [18,19,20,21,22,23,24,25], # pt 1
            [26], # pt 2
            [24,25,26], # pt 3
            [], # pt 4
            [], # pt 5
            [], # pt 6
            [], # pt 7
            [], # pt 8
            [], # pt 9
            [22,23,24,25,26], # pt 10
            [22,23,24,25,26], # pt 11
            [22,23,24,25,26], # pt 12
            [21,22,23,24,25,26], # pt 13
            [21,22,23,24,25,26], # pt 14
            [5,9], # pt 15
        ]

ry_extraction:
    Sigma: [0.02]
    MassFitRanges: [[1.70, 1.96]]
    IncludeCorrBkgs: False
    SgnFunc: [["gaussian"]]
    BkgFunc: [["chebpol2"]]
    FixMean: 0
    FixSigma: 0
    Rebin: 2

projections:
    # PtWeightsFile: '/home/mdicosta/alice/hf-vn/ptweights/weights/Dplus/k3050/pTweight_Dplus_k3050_test_Dplus.root'
    ApplyPtWeightsD: False
    ApplyPtWeightsB: False
    ApplyBSpeciesWeights: False
    storeML: True

corr_bkgs:
    input_file: "/data/mdicosta/DplusFlow/ppref/Templates/Train529392/AO2DHF_LHC25g1_All.root"
    table_names: ["O2hfcanddplite"]
    sgn_fin_state: "DplusToPiKPi"
    bkg_score_column: "fMlScore0"
    fd_score_column: "fMlScore1"
    include_final_states: [
                            "DplusToPiKPiPi0",
                            "DstarD0ToPiKPi",
                            "DplusToPiKK",
                            "DplusToPiPiPi",
                            "DsToPiKK",
                            "DsToPiKKPi0",
                            # "DsToPiPiPi",
                            # "DsToPiPiK",
                            # "DsToPiPiPiPi0",
                            # "DstarD0ToPiKPi",
                            # "DstarD0ToPiKPiPi0",
                            # "DstarD0ToPiKK",
                            # "DstarD0ToPiPiPi"
                            # , "DstarD0ToPiPiPiPi0",
                            # "LcToPKPi", "LcToPKPiPi0", "LcToPPiPi", "LcToPKK",
                            # "XicToPKPi", "XicToPKK", "XicToSPiPi"
                        ]
    correct_ds_abundance: 1.25

preprocess:
    data:
        '2024':
            files: [
                  /data/mdicosta/DplusFlow/ppref/Templates/Train529392/AO2DHF_LHC25g1_All.root
            ]
    mc: Null
    tables: ["O2hfcanddplite", "O2hfcanddpml"]
    cols_to_keep_data: ['fM', 'fPt', 'fCentrality', 'fMlScore0', 'fMlScore1']
    data_model: 'DplusTree'
    axes_data: {
        'Mass': 1,
        'score_bkg': 1,
        'score_FD': 1
    }
    # axes_reco: {
    #     'Mass': 1, 
    #     'Pt': 1, 
    #     'score_bkg': 1, 
    #     'score_FD': 1
    # }
    # axes_gen: {
    #     'Pt': 1, 
    #     'cent': 1
    # }
    workers: 1
    bkg_cuts: [0.17]
